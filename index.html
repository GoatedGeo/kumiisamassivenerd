<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="https://www.higherlowergame.com/_client/images/icon-192.png" type="image/jpg">
  <title>HigherOrLower</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: #000;
      color: white;
      height: 100vh;
      overflow: hidden;
      width: 100vw;
      -webkit-tap-highlight-color: transparent;
    }

    .top {
      position: absolute;
      top: 20px;
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 30px;
      z-index: 5;
      font-size: clamp(16px, 4vw, 20px);
      font-weight: 600;
    }

    .game {
      display: flex;
      height: 100vh;
      width: 100vw;
      flex-direction: row;
    }

    .side {
      position: relative;
      width: 50%;
      height: 100%;
      overflow: hidden;
      transition: opacity 0.5s ease;
      cursor: pointer;
    }

    .side.fade {
      opacity: 0.4;
    }

    .side.disabled {
      cursor: default;
    }

    .side img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
      background: #111;
    }

    .side.fade img {
      transform: scale(1.05);
    }

    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        to bottom,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,0.8) 100%
      );
      pointer-events: none;
    }

    .content {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      width: 90%;
      max-width: 600px;
      padding: 0 20px;
    }

    .title {
      background: white;
      color: #222;
      display: inline-block;
      padding: 12px 20px;
      font-size: clamp(14px, 3vw, 20px);
      font-weight: 600;
      border-radius: 8px;
      margin-bottom: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      max-width: 100%;
      word-break: break-word;
      line-height: 1.3;
    }

    .ups {
      color: white;
      font-size: clamp(20px, 5vw, 28px);
      font-weight: 800;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .up-icon {
      font-size: clamp(18px, 4vw, 24px);
    }

    .or {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      color: #222;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      font-weight: 900;
      font-size: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 4;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      border: 4px solid #000;
      pointer-events: none;
    }

    .score-update {
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
      font-weight: 700;
      color: #2ecc71;
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 10;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
      text-align: center;
      width: 90%;
    }

    .score-update.show {
      opacity: 1;
      top: 80px;
    }

    .score-update.wrong {
      color: #e74c3c;
    }

    .footer {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      color: rgba(255,255,255,0.6);
      font-size: 12px;
      z-index: 5;
      padding: 0 20px;
    }

    /* Instruction text */
    .instruction {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      color: rgba(255,255,255,0.8);
      font-size: 16px;
      font-weight: 600;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
      width: 90%;
      max-width: 600px;
      padding: 0 20px;
      z-index: 5;
      pointer-events: none;
    }

    /* Mobile-specific styles */
    @media (max-width: 900px) {
      .game {
        flex-direction: column;
      }
      
      .side {
        width: 100%;
        height: 50%;
      }
      
      .or {
        top: 50%;
        width: 60px;
        height: 60px;
        font-size: 18px;
      }
      
      .content {
        bottom: 60px;
      }
      
      .title {
        padding: 10px 16px;
      }
      
      .instruction {
        bottom: 30px;
        font-size: 14px;
      }
      
      .score-update {
        font-size: 20px;
      }
    }

    @media (max-width: 600px) {
      .top {
        padding: 0 20px;
      }
      
      .or {
        width: 50px;
        height: 50px;
        font-size: 16px;
        border-width: 3px;
      }
      
      .content {
        bottom: 50px;
      }
      
      .instruction {
        bottom: 20px;
        font-size: 13px;
      }
    }

    /* Very small phones */
    @media (max-width: 350px) {
      .instruction {
        font-size: 12px;
        bottom: 15px;
      }
    }

    /* Landscape mode for mobile */
    @media (max-height: 500px) and (orientation: landscape) {
      .game {
        flex-direction: row;
      }
      
      .side {
        width: 50%;
        height: 100%;
      }
      
      .or {
        width: 50px;
        height: 50px;
        font-size: 16px;
      }
      
      .content {
        bottom: 40px;
      }
      
      .title {
        font-size: 12px;
        padding: 8px 12px;
        margin-bottom: 8px;
      }
      
      .ups {
        font-size: 16px;
      }
      
      .instruction {
        bottom: 15px;
        font-size: 12px;
      }
    }
  </style>
</head>
<body>

<div class="top">
  <div>High score: <span id="highScore">1</span></div>
  <div>Score: <span id="score">0</span></div>
</div>

<div class="score-update" id="scoreUpdate"></div>

<div class="game">
  <div class="side" id="sideA" onclick="guessByImage('A')">
    <img id="imgA" alt="Reddit post image">
    <div class="overlay"></div>
    <div class="content">
      <div class="title" id="titleA"></div>
      <div class="ups">
        <span class="up-icon">üëç</span>
        <span id="upsA"></span>
      </div>
    </div>
  </div>

  <div class="or">OR</div>

  <div class="side" id="sideB" onclick="guessByImage('B')">
    <img id="imgB" alt="Reddit post image">
    <div class="overlay"></div>
    <div class="content">
      <div class="title" id="titleB"></div>
      <div class="ups">
        <span class="up-icon">üëç</span>
        <span id="upsB">?</span>
      </div>
    </div>
  </div>
</div>

<div class="instruction"></div>

<div class="footer">Data from Kumi Jong Orpu as of 8/2/2026</div>

<script>
let score = 0;
let highScore = localStorage.getItem('redditHighScore') || 1;
let canGuess = true;

const posts = [
  { title: "losing my mind", ups: 10, image: "https://i.ytimg.com/vi/1dm-JEo9ZbM/oar2.jpg?sqp=-oaymwEoCJUDENAFSFqQAgHyq4qpAxcIARUAAIhC2AEB4gEKCBgQAhgGOAFAAQ==&rs=AOn4CLBzS_inWks1AGKjV0Y2biA4GRYKxQ&usqp=CCk" },
  { title: "funni prank idea | #kumi_jong_orpu on #Twitch", ups: 1, image: "https://i.ytimg.com/vi/ZA_Uo7aF2AA/oar2.jpg?sqp=-oaymwEoCJUDENAFSFqQAgHyq4qpAxcIARUAAIhC2AEB4gEKCBgQAhgGOAFAAQ==&rs=AOn4CLAHufQ_VdTmcnqiSduioRBpgDXvpA&usqp=CCk" },
  { title: "So you should like... czech markiplier | #kumi_jong_orpu on #Twitch", ups: 0, image: "https://i.ytimg.com/vi_webp/CRdNMlfjA9M/oar2.webp?usqp=CCk" },
  { title: "when something finally happens... | #kumi_jong_orpu on #Twitch", ups: 3, image: "https://i.ytimg.com/vi/_6KM7TgZLeY/oar2.jpg?sqp=-oaymwEoCJUDENAFSFqQAgHyq4qpAxcIARUAAIhC2AEB4gEKCBgQAhgGOAFAAQ==&rs=AOn4CLAw8G_Qns9R2agzTI32ZKTxWUrzgw&usqp=CCk" },
  { title: "czech crashout | #kim_jong_pepe on #Twitch", ups: 12, image: "https://i.ytimg.com/vi/CKtIIlQ6QLE/oar2.jpg?sqp=-oaymwEoCJUDENAFSFqQAgHyq4qpAxcIARUAAIhC2AEB4gEKCBgQAhgGOAFAAQ==&rs=AOn4CLBI4PBS5ExB7zTvWPnfvS2Tf2P0hg&usqp=CCk" },
  { title: "yk we can speak english | #kim_jong_pepe on #Twitch", ups: 10, image: "https://i.ytimg.com/vi/zWcogNzvQrw/oar2.jpg?sqp=-oaymwEoCJUDENAFSFqQAgHyq4qpAxcIARUAAIhC2AEB4gEKCBgQAhgGOAFAAQ==&rs=AOn4CLDqfsBN1yYZ9WxlBHkiqJHzLoXMEA&usqp=CCk" },
  { title: "horse bongo, 1 hour version", ups: 101, image: "https://i.ytimg.com/an_webp/Zk6647FtzOI/mqdefault_6s.webp?du=3000&sqp=CLzfocwG&rs=AOn4CLClzNHeVfyutsO5SmlaV0giRTvm8Q" },
  { title: "fish spin brazillian special 8K 180FPS (REAL) (CLICKBAIT)", ups: 7, image: "https://i.ytimg.com/an_webp/GSa67B_2i44/mqdefault_6s.webp?du=3000&sqp=CNzwocwG&rs=AOn4CLB6oxlLIESjmvZSdfO4pzZH6g4GRg" },
  { title: "TOP 10 MONKEYS", ups: 10, image: "https://i.ytimg.com/an_webp/D-tXv2KrRHE/mqdefault_6s.webp?du=3000&sqp=CODTocwG&rs=AOn4CLCUUHEuaPdJDyMsdteUxM18knCgNw" },
];

let currentPost = null;
let nextPost = null;

function randomPost() {
  const randomIndex = Math.floor(Math.random() * posts.length);
  return { ...posts[randomIndex] };
}

function getUniqueNextPost() {
  let newPost = randomPost();
  // Ensure we don't get the same post twice in a row
  if (currentPost) {
    let attempts = 0;
    while (newPost.title === currentPost.title && attempts < 10) {
      newPost = randomPost();
      attempts++;
    }
  }
  return newPost;
}

function updateScores() {
  document.getElementById('score').textContent = score;
  document.getElementById('highScore').textContent = highScore;
}

function showScoreUpdate(text, isCorrect) {
  const scoreUpdate = document.getElementById('scoreUpdate');
  scoreUpdate.textContent = text;
  scoreUpdate.className = 'score-update show';
  if (!isCorrect) {
    scoreUpdate.classList.add('wrong');
  }
  
  setTimeout(() => {
    scoreUpdate.classList.remove('show');
    setTimeout(() => {
      scoreUpdate.classList.remove('wrong');
    }, 300);
  }, 1000);
}

function handleImageError(img) {
  img.src = 'https://via.placeholder.com/400x300/333/666?text=Image+Not+Available';
}

function render() {
  const titleA = document.getElementById('titleA');
  const upsA = document.getElementById('upsA');
  const imgA = document.getElementById('imgA');
  const titleB = document.getElementById('titleB');
  const upsB = document.getElementById('upsB');
  const imgB = document.getElementById('imgB');
  const sideA = document.getElementById('sideA');
  const sideB = document.getElementById('sideB');

  if (currentPost) {
    titleA.textContent = currentPost.title;
    upsA.textContent = currentPost.ups.toLocaleString();
    imgA.onerror = () => handleImageError(imgA);
    imgA.src = currentPost.image;
  }

  if (nextPost) {
    titleB.textContent = nextPost.title;
    upsB.textContent = "?";
    upsB.classList.remove('reveal');
    imgB.onerror = () => handleImageError(imgB);
    imgB.src = nextPost.image;
  }

  sideA.classList.remove('fade', 'disabled');
  sideB.classList.remove('fade', 'disabled');
}

function guessByImage(sideClicked) {
  if (!canGuess) return;
  
  // Determine if the clicked side has higher upvotes
  const isSideA = sideClicked === 'A';
  const clickedPost = isSideA ? currentPost : nextPost;
  const otherPost = isSideA ? nextPost : currentPost;
  
  // If clicked side has higher or equal upvotes, it's a correct guess
  const correct = (clickedPost.ups >= otherPost.ups);
  
  processGuess(correct);
}

function processGuess(isCorrect) {
  canGuess = false;
  const sides = document.querySelectorAll('.side');
  sides.forEach(side => side.classList.add('disabled'));
  
  const upsB = document.getElementById('upsB');
  const sideA = document.getElementById('sideA');
  const sideB = document.getElementById('sideB');
  
  // Reveal the right side
  upsB.textContent = nextPost.ups.toLocaleString();
  upsB.classList.add('reveal');
  
  if (isCorrect) {
    score++;
    if (score > highScore) {
      highScore = score;
      localStorage.setItem('redditHighScore', highScore);
    }
    showScoreUpdate('+1', true);
  } else {
    showScoreUpdate('Game Over!', false);
    score = 0;
  }
  
  updateScores();
  
  // Fade both sides
  sideA.classList.add('fade');
  sideB.classList.add('fade');
  
  // Transition to next round
  setTimeout(() => {
    currentPost = nextPost;
    nextPost = getUniqueNextPost();
    
    render();
    
    // Re-enable sides
    canGuess = true;
    sides.forEach(side => side.classList.remove('disabled'));
  }, 1500);
}

// Initialize
function initGame() {
  currentPost = randomPost();
  nextPost = getUniqueNextPost();
  updateScores();
  render();
}

// Add keyboard shortcuts (optional - still works with arrow keys)
document.addEventListener('keydown', (e) => {
  if (!canGuess) return;
  
  if (e.key === 'ArrowLeft') {
    guessByImage('A');
  } else if (e.key === 'ArrowRight') {
    guessByImage('B');
  }
});

// Add visual feedback for image clicks
document.querySelectorAll('.side').forEach(side => {
  side.addEventListener('touchstart', function() {
    if (!this.classList.contains('disabled')) {
      this.style.opacity = '0.9';
    }
  });
  
  side.addEventListener('touchend', function() {
    if (!this.classList.contains('disabled')) {
      this.style.opacity = '';
    }
  });
  
  side.addEventListener('mousedown', function() {
    if (!this.classList.contains('disabled')) {
      this.style.opacity = '0.9';
    }
  });
  
  side.addEventListener('mouseup', function() {
    if (!this.classList.contains('disabled')) {
      this.style.opacity = '';
    }
  });
  
  side.addEventListener('mouseleave', function() {
    this.style.opacity = '';
  });
});

// Initialize the game when page loads
window.addEventListener('load', initGame);
</script>

</body>
</html>